"function"!=typeof Object.create&&(Object.create=function(e){function n(){}return n.prototype=e,new n}),function(e,n,t){var i="panelSnap",o="plugin_"+i,a={isMouseDown:!1,isSnapping:!1,enabled:!0,scrollInterval:0,scrollOffset:0,init:function(n,i){var o=this;if(o.container=i,o.$container=e(i),o.$eventContainer=o.$container,o.$snapContainer=o.$container,o.$container.is("body")){o.$eventContainer=e(t),o.$snapContainer=e(t.documentElement);var a=navigator.userAgent;~a.indexOf("WebKit")&&(o.$snapContainer=e("body"))}if(o.scrollInterval=o.$container.height(),o.options=e.extend(!0,{},e.fn.panelSnap.options,n),o.bind(),o.options.$menu!==!1&&e(".active",o.options.$menu).length>0)e(".active",o.options.$menu).click();else{var s=o.getPanel(":first");o.activatePanel(s)}return o},bind:function(){var t=this;t.bindProxied(t.$eventContainer,"scrollstop",t.scrollStop),t.bindProxied(t.$eventContainer,"mousewheel",t.mouseWheel),t.bindProxied(t.$eventContainer,"mousedown",t.mouseDown),t.bindProxied(t.$eventContainer,"mouseup",t.mouseUp),t.bindProxied(e(n),"resizestop",t.resize),t.options.keyboardNavigation.enabled&&t.bindProxied(e(n),"keydown",t.keyDown,t.$eventContainer),t.options.$menu!==!1&&t.bindProxied(e(t.options.$menu),"click",t.captureMenuClick,t.options.menuSelector)},bindProxied:function(n,t,i,o){var a=this;o="string"==typeof o?o:null,n.on(t+a.options.namespace,o,e.proxy(function(e){return i.call(a,e)},a))},destroy:function(){var t=this;t.$eventContainer.off(t.options.namespace),e(n).off(t.options.namespace),t.options.$menu!==!1&&e(t.options.menuSelector,t.options.$menu).off(t.options.namespace),t.$container.removeData(o)},scrollStop:function(e){var n=this;if(e.stopPropagation(),n.enabled&&!n.isMouseDown&&!n.isSnapping){var t,i=n.$snapContainer.scrollTop(),o=i-n.scrollOffset,a=n.$container[0].scrollHeight-n.scrollInterval,s=n.getPanel().length;t=o<-n.options.directionThreshold&&o>-n.scrollInterval?Math.floor(i/n.scrollInterval):o>n.options.directionThreshold&&o<n.scrollInterval?Math.ceil(i/n.scrollInterval):Math.round(i/n.scrollInterval),t=Math.max(0,Math.min(t,s));var r=n.getPanel(":eq("+t+")");0===o||(0>=i||i>=a?(n.activatePanel(r),n.scrollOffset=0>=i?0:a):n.snapToPanel(r))}},mouseWheel:function(){var e=this;e.$container.stop(!0),e.isSnapping=!1},mouseDown:function(){var e=this;e.isMouseDown=!0},mouseUp:function(e){var n=this;n.isMouseDown=!1,n.scrollOffset!==n.$snapContainer.scrollTop()&&n.scrollStop(e)},keyDown:function(e){var n=this,t=n.options.keyboardNavigation;if(n.isSnapping){if(e.which==t.previousPanelKey||e.which==t.nextPanelKey)return e.preventDefault(),!1}else switch(e.which){case t.previousPanelKey:e.preventDefault(),n.snapTo("prev",t.wrapAround);break;case t.nextPanelKey:e.preventDefault(),n.snapTo("next",t.wrapAround)}},resize:function(){var e=this;if(e.scrollInterval=e.$container.height(),e.enabled){var n=e.getPanel(".active");e.snapToPanel(n)}},captureMenuClick:function(n){var t=this,i=e(n.currentTarget).data("panel"),o=t.getPanel('[data-panel="'+i+'"]');return t.snapToPanel(o),!1},snapToPanel:function(e){var n=this;if(e instanceof jQuery){n.isSnapping=!0,n.options.onSnapStart.call(n,e),n.$container.trigger("panelsnap:start",[e]);var t=0;t=n.$container.is("body")?e.offset().top:n.$snapContainer.scrollTop()+e.position().top,n.$snapContainer.stop(!0).animate({scrollTop:t},n.options.slideSpeed,function(){n.scrollOffset=t,n.isSnapping=!1,n.options.onSnapFinish.call(n,e),n.$container.trigger("panelsnap:finish",[e]),n.activatePanel(e)})}},activatePanel:function(n){var t=this;if(t.getPanel(".active").removeClass("active"),n.addClass("active"),t.options.$menu!==!1){var i="> "+t.options.menuSelector+".active";e(i,t.options.$menu).removeClass("active");var o='[data-panel="'+n.data("panel")+'"]',a="> "+t.options.menuSelector+o,s=e(a,t.options.$menu);s.addClass("active")}t.options.onActivate.call(t,n),t.$container.trigger("panelsnap:activate",[n])},getPanel:function(n){var t=this;"undefined"==typeof n&&(n="");var i="> "+t.options.panelSelector+n;return e(i,t.$container)},snapTo:function(e,n){var t=this;"boolean"!=typeof n&&(n=!0);var i;switch(e){case"prev":i=t.getPanel(".active").prev(t.options.panelSelector),i.length<1&&n&&(i=t.getPanel(":last"));break;case"next":i=t.getPanel(".active").next(t.options.panelSelector),i.length<1&&n&&(i=t.getPanel(":first"));break;case"first":i=t.getPanel(":first");break;case"last":i=t.getPanel(":last")}i.length>0&&t.snapToPanel(i)},enable:function(){var e=this;e.scrollOffset=e.$snapContainer.scrollTop(),e.enabled=!0},disable:function(){var e=this;e.enabled=!1},toggle:function(){var e=this;e.enabled?e.disable():e.enable()}};e.fn[i]=function(n){var t=Array.prototype.slice.call(arguments);return this.each(function(){var i=e.data(this,o);if("object"!=typeof n&&"init"!==n&&n){if(!i)return e.error("Plugin is not initialized for this object yet."),void 0;if(!i[n])return e.error("Method "+n+" does not exist on jQuery.panelSnap."),void 0;var s=n;n=t.slice(1),i[s].apply(i,n)}else{if(i)return e.error("Plugin is already initialized for this object."),void 0;"init"===n&&(n=t[1]||{}),i=Object.create(a).init(n,this),e.data(this,o,i)}})},e.fn[i].options={$menu:e("#site-nav ul"),menuSelector:"a",panelSelector:"section",namespace:".panelSnap",onSnapStart:function(){},onSnapFinish:function(){},onActivate:function(){},directionThreshold:50,slideSpeed:200,keyboardNavigation:{enabled:!1,nextPanelKey:40,previousPanelKey:38,wrapAround:!0}}}(jQuery,window,document),function(e){e.event.special.scrollstart={enabled:!0,setup:function(){function n(e,n){e.type=n?"scrollstart":"scrollstop",o.trigger(e)}var t,i=this,o=e(i);o.data("scrollwatch",!0),o.on("touchmove scroll",function(i){e.event.special.scrollstart.enabled&&(e.event.special.scrollstart.scrolling||(e.event.special.scrollstart.scrolling=!0,n(i,!0)),clearTimeout(t),t=setTimeout(function(){e.event.special.scrollstart.scrolling=!1,n(i,!1)},50))})}},e.event.special.scrollstop={setup:function(){var n=this,t=e(n);t.data("scrollwatch")||e(this).on("scrollstart",function(){})}}}(jQuery),function(e){e.event.special.resizestart={enabled:!0,setup:function(){function n(e,n){e.type=n?"resizestart":"resizestop",o.trigger(e)}var t,i=this,o=e(i);o.data("resizewatch",!0),o.on("resize",function(i){e.event.special.resizestart.enabled&&(e.event.special.resizestart.resizing||(e.event.special.resizestart.resizing=!0,n(i,!0)),clearTimeout(t),t=setTimeout(function(){e.event.special.resizestart.resizing=!1,n(i,!1)},200))})}},e.event.special.resizestop={setup:function(){var n=this,t=e(n);t.data("resizewatch")||e(this).on("resizestart",function(){})}}}(jQuery),function(e){function n(n){var t=n||window.event,i=[].slice.call(arguments,1),o=0,a=0,s=0;return n=e.event.fix(t),n.type="mousewheel",t.wheelDelta&&(o=t.wheelDelta/120),t.detail&&(o=-t.detail/3),s=o,void 0!==t.axis&&t.axis===t.HORIZONTAL_AXIS&&(s=0,a=-1*o),void 0!==t.wheelDeltaY&&(s=t.wheelDeltaY/120),void 0!==t.wheelDeltaX&&(a=-1*t.wheelDeltaX/120),i.unshift(n,o,a,s),(e.event.dispatch||e.event.handle).apply(this,i)}var t=["DOMMouseScroll","mousewheel"];if(e.event.fixHooks)for(var i=t.length;i;)e.event.fixHooks[t[--i]]=e.event.mouseHooks;e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=t.length;e;)this.addEventListener(t[--e],n,!1);else this.onmousewheel=n},teardown:function(){if(this.removeEventListener)for(var e=t.length;e;)this.removeEventListener(t[--e],n,!1);else this.onmousewheel=null}},e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}(jQuery);